# Development Makefile - Optional quality checks that won't block you

.PHONY: help test format lint typecheck check all clean

help:
	@echo "Development Commands (all optional):"
	@echo "  make test       - Run tests (without coverage requirements)"
	@echo "  make format     - Format code with ruff"
	@echo "  make lint       - Check code style (warnings only)"
	@echo "  make typecheck  - Run type checking (warnings only)"
	@echo "  make check      - Run all checks (warnings only)"
	@echo "  make clean      - Clean up cache files"
	@echo ""
	@echo "All commands are advisory only - they won't fail your build!"

test:
	@echo "ðŸ§ª Running tests..."
	@pytest tests/ || echo "âš ï¸  Some tests failed, but that's okay for development"

format:
	@echo "ðŸŽ¨ Formatting code..."
	@ruff format .
	@echo "âœ… Code formatted!"

lint:
	@echo "ðŸ” Checking code style..."
	@ruff check . --fix || echo "âš ï¸  Some style issues found, but continuing..."

typecheck:
	@echo "ðŸ”¬ Type checking..."
	@pyright || echo "âš ï¸  Some type issues found, but continuing..."

check: lint typecheck test
	@echo "ðŸ“‹ All checks complete! Any issues are advisory only."

clean:
	@echo "ðŸ§¹ Cleaning up..."
	@find . -type d -name "__pycache__" -exec rm -rf {} + 2>/dev/null || true
	@find . -type f -name "*.pyc" -delete 2>/dev/null || true
	@rm -rf .coverage htmlcov/ .pytest_cache/ || true
	@echo "âœ… Cleanup complete!"
